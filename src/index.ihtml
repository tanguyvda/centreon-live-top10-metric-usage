<html>
<head>
	<title>centreon-live-top10-metric-usage</title>
	<link href="src/reset.css" type="text/css" rel="stylesheet"/>
	<link href="resources/css/line-awesome-font-awesome.min.css" type="text/css" rel="stylesheet"/>
	<link href="src/chart.css" type="text/css" rel="stylesheet"/>
</head>
<body>
    <script type="text/javascript" src="../../include/common/javascript/jquery/jquery.js"></script>
    <script type="text/javascript" src="../../include/common/javascript/jquery/jquery-ui.js"></script>
    <script type="text/javascript" src="../../include/common/javascript/widgetUtils.js"></script>

	<!-- handle various errors -->
    {if $warning != ""}
		<div class="errorWrapper">
			<span class="fontWarningIcon motionSpan"><i class="fa fa-warning"></i></span>
			<span class="warningMessage alertMessage">{$warning}</span>
		</div>
	{elseif $error != ""}
		<div class="errorWrapper">
			<span class="fontErrorIcon motionSpan"><i class="fa fa-warning"></i></span>
			<span class="errorMessage alertMessage">{$error}</span>
		</div>

	<!-- handle data if no errors were found	 -->
    {else}
        {assign var='adata' value=$chartData|@json_encode}
        {assign var='apreferences' value=$preferences|@json_encode}
        {if $chartData != "" && $chartData != NULL}
			<div id="chart">
				<script>
					var widgetData = {$adata};
					var preferences = {$apreferences};
					var windowWidth = window.innerWidth;
					const widgetId = {$widgetId};
				</script>
				<script type="text/javascript" src="resources/js/apexcharts.min.js" ></script>
				<script type="text/javascript" src="src/sample_chart.js"></script>
				<script type="text/javascript" src="class/centreonCharts.js"></script>
		        <script type="text/javascript" src="src/chart.js"></script>
			</div>

		<!-- print error if no data has been found	 -->
		{else}
			<div class="errorWrapper">
				<span class="fontErrorIcon motionSpan"><i class="fa fa-warning"></i></span>
				<span class="errorMessage">No data found, please check your widget's parameters</span>
			</div>
	    {/if}
    {/if}
</body>
</html>
